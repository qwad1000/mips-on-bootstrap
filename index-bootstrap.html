<!DOCTYPE html>
<html ng-app="MIPS-app">
<head>
	<meta charset="UTF-8"/>
	<title>MIPS page</title>
	<!--<script src="http://ajax.googleapis.com/ajax/libs/angularjs/1.2.26/angular.min.js"></script>-->
	<script src="res/angular.min.js"></script>
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<!--<link rel="stylesheet" href="http://maxcdn.bootstrapcdn.com/bootstrap/3.2.0/css/bootstrap.min.css">-->
	<link rel="stylesheet" type="text/css" href="res/bootstrap.min.css">
	<!--<script src="http://ajax.googleapis.com/ajax/libs/jquery/1.11.1/jquery.min.js"></script>-->
	<script src="res/jquery-1.11.2.min.js"></script>
	<script src="http://maxcdn.bootstrapcdn.com/bootstrap/3.2.0/js/bootstrap.min.js"></script>
</head>

<body ng-controller="testController">
	<div class="page-wrapper container-fluid">
		<div class="row main-part-wrapper">
			<div class="col-sm-4 column">
				<button type="button" class="btn btn-success btn-block btn-sm" ng-click="loadInfo()">[$ loadBtnText $]</button>
				<div class="editor-wrapper">
					<div id="editor" class="code-editor" ng-model="codeArea"></div>
				</div>
				<div class="btn-group-sm btn-group-justified" ng-hide="isEditing">
					<a type="button" class="btn btn-primary" ng-click="runConvert()" ng-disabled="commandsCount==0">Run</a>
					<a type="button" class="btn btn-default" ng-click="runStep()" ng-disabled="commandsCount==0">Step</a>
					<a type="button" class="btn btn-danger" ng-click="reset()">Reset</a>
					<div class="btn-group">
						<button type="button" class="btn btn-info dropdown-toggle" data-toggle="dropdown">
							Initial state <span class="caret"></span>
						</button>
						<ul class="dropdown-menu" role="menu" >
							<li><a href="#">No test</a></li>
							<li class="divider"></li>
							<li ng-repeat="val in exercise.tests">
								<button class="btn" ng-click="testClick(val.id)">
								<span class="glyphicon glyphicon-ok" ng-show="val.passed"></span>
								<span class="glyphicon glyphicon-remove" ng-hide="val.passed || val.passed == undefined"></span>
								 [$val.title$]</button>
							</li>
						</ul>
					</div>
				</div>
			</div>

			<!-- registers table column -->
			<div class="col-sm-4 column">
				<div class="table-wrapper">
					<table class="table table-striped table-condensed table-hovered table-bordered">
						<thead>
							<tr>
								<th>Name</th>
								<th>Value</th>
								<th>Name</th>
								<th>Value</th>
							</tr>
						</thead>
						<tbody>
							<tr>
								<td>PC</td>
								<td>[$ programCounter $]</td>
								<td>?</td>
								<td>todo</td>
							</tr>

							<tr ng-repeat="row in dividedRegisters track by $index">
								<td>r[$ row[0].indx $]/[$ row[0].name $]</td>
								<td>[$ returnRegister(row[0].indx, hexRegFmt) $]</td>
								<td>r[$ row[1].indx $]/[$ row[1].name $]</td>
								<td>[$ returnRegister(row[1].indx, hexRegFmt) $]</td>
							</tr>
						</tbody>
					</table>
				</div>
				<div class="number-type-wrapper">
					<label>Register value format:</label>
					<label class="radio-inline">
						<input type="radio" name="number-type" value="dec" ng-model="hexRegFmt">
						Dec
					</label>
					<label class="radio-inline">
						<input type="radio" name="number-type" value="hex" ng-model="hexRegFmt" >
						Hex
					</label>
				</div>
			</div>

			<!-- memory table column -->
			<div class="col-sm-4 column">
				<div class="table-wrapper">
					<table class="table table-striped table-condensed table-bordered">
						<thead>
							<tr>
								<th><span ng-show="ram.isClear()">EMPTY</span></th>
								<th class="info" ng-repeat="num in [0,1,2,3,4,5,6,7]">
								[$num$]
							</th>
							</tr>
						</thead>
						<tbody>
							<tr ng-repeat="num in [0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16]">
								<th class="info">[$ "0x" + (memoryShift + num*8).toString(16).toUpperCase() $]</th>
								<!--todo: 8 -> cols-->
								<td class="memory-cell" ng-repeat="inf in [0,1,2,3,4,5,6,7]">
									[$ returnMemoryValue(memoryShifts[num][inf],hexRegFmt) $]
								</td>
							</tr>
						</tbody>
					</table>
					
				</div>
				<div>
					<label>Смещение (hex):</label>
					<input type="number" ng-model="memoryShift">
					<button class="btn btn-sm btn-success" ng-click="changeMemoryShift()">Look through</button>
				</div>
			</div>
		</div>

		<div class="row">
			<div class="col-sm-4">adsf	</div>
			<div class="col-sm-8">
				<textarea class="result-area" ng-model="resultArea"></textarea>
			</div>
		</div>
	</div>

	<!-- ======  Scripts + CSS section  ======= -->

	<script src="res/src-noconflict/ace.js" type="text/javascript" charset="utf-8"></script>
	<script src="res/example.js"></script>

	<link rel="stylesheet" type="text/css" href="css/new-ide.css">
	<script src="res/emulator/mips.js"></script>
	<script src="res/emulator/mips_constants.js"></script>
	<script src="res/emulator/utility.js"></script>
	<script src="res/mainController.js"></script>
	
</body>
</html>